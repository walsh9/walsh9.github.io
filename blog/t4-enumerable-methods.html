<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href='http://fonts.googleapis.com/css?family=Quando&text=walsh9.githubo' rel='stylesheet' type='text/css' />
    <link href='http://fonts.googleapis.com/css?family=Montserrat&text=BLOGPRJECTSABU' rel='stylesheet' type='text/css' />
    <link href='http://fonts.googleapis.com/css?family=Judson' rel='stylesheet' type='text/css' />
    <link rel="stylesheet" type="text/css" href="/css/style.css" />
    <title>walsh9.github.io</title>
</head>
<body>
    <div id="page">
    <header>
        <h1><a href="/">walsh9.github.io</a></h1>
        <!--<h2>sub title</h2>-->
    </header>
    <nav>
        <ul>
            <li class="current"><a href="/blog/">Blog</a></li>
            <li><a href="/projects/">Projects</a></li>
            <li><a href="/about.html">About</a></li>
        </ul>
    </nav>
    <main id="content" class="group">
        <article>
            <h3>Fun with Enumerable#map</h3>

<p>Ruby's <code>map</code> function is great when you want to transform every item of a list in the same way.
Here's the syntax from the Ruby docs:</p>

<pre>
map { |obj| block } â†’ array
</pre>

<p><code>map</code> iterates through an enumerable object, and returns an array using the return value of the code in <code>block</code> for each item in the enumberable. The <code>obj</code> is whatever the enumerable object supplies for iteration. For an array it will be a value in the array. For a hash it will be a key-value pair.</p>

<p><code>map</code> is a non-destructive function. It leaves your original object alone and returns a new transformed object. You can transform your items in all sorts of ways. It's great when you have a set of data that's just a step or two away from what you want.</p>

<figure>
<figcaption>Add one to every item.</figcaption>
<pre>>> [0, 5, 9].map {|value| value + 1}
=> [1, 6, 10]</pre>
</figure>

<figure>
<figcaption>Get the first ten square numbers.</figcaption>
<pre>>> (1..10).map {|n| n * n}
=> [1, 4, 9, 16, 25, 36, 49, 64, 81, 100]</pre>
</figure>

<figure>
<figcaption>Capitalize every string.</figcaption>
<pre>>> ["hello", "world"].map {|word| word.to_s.upcase}
=> ["HELLO", "WORLD"]</pre>
</figure>

<figure>
<figcaption>Simple Pig Latin with map.</figcaption>
<pre>>> ["ruby", "is", "fun"].map {|word| 
    vowels = ["a","e","i","o","u"]
    if vowels.include? word[0]
        word + "yay"
    else
        word[1..-1] + word[0] + "ay"
    end
}
=> ["ubyray", "isyay", "unfay"]</pre>
</figure>

<p>You can also use <code>map</code> on hashes. Just remember <code>map</code> always returns an array, so you have to do a little bit of extra work to change a hash to a new hash with <code>map</code>.</p>

<figure>
<figcaption>Map always returns an array, even when applied to a hash.</figcaption>
<pre>>> balances = {"Amy" => 20000.0, "Bill" => 4000.0, "Carol" => 6000.0}
>> interest_rate = 1.01
>> balances.map {|_, value| value * interest_rate]}
=> [20200.0, 4040.0, 6060.0]</pre>
</figure>

<figure>
<figcaption>When you return key-value pairs, you still get an array.</figcaption>
<pre>>> balances.map {|key, value| [key, value * interest_rate]}
=> [["Amy", 20200.0], ["Bill", 4040.0], ["Carol", 6060.0]]</pre>
</figure>

<figure>
<figcaption>You can convert an array of key-value pair arrays to a hash using <code>.to_h</code></figcaption>
<pre>>> balances.map {|key, value| [key, value * interest_rate]}<strong>.to_h</strong>
=> {"Amy"=>20200.0, "Bill"=>4040.0, "Carol"=>6060.0}</pre>
</figure>

<p>I hope these examples helped you to better understand what the <code>map</code> function does and how to use it.</p>

            <span class="info">posted on August 3, 2015</span>
        </article>
    </main>
    <footer>
        <h3>I'm also on:</h3>
        <ul>
           <li><a href="https://github.com/walsh9">GitHub</a></li>
           <li><a href="https://twitter.com/walsh9dbc">Twitter</a></li>
           <li><a href="https://www.linkedin.com/in/matthewcwalsh">LinkedIn</a></li>
        </ul>
    </footer>
    </div>
</body>
</html>