<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href='http://fonts.googleapis.com/css?family=Quando&text=walsh9.githubo' rel='stylesheet' type='text/css' />
    <link href='http://fonts.googleapis.com/css?family=Montserrat&text=BLOGPRJECTSABU' rel='stylesheet' type='text/css' />
    <link href='http://fonts.googleapis.com/css?family=Judson' rel='stylesheet' type='text/css' />
    <link rel="stylesheet" type="text/css" href="/css/style.css" />
    <title>walsh9.github.io</title>
</head>
<body>
    <header>
        <h1><a href="/">walsh9.github.io</a></h1>
        <!--<h2>sub title</h2>-->
    </header>
    <nav>
        <ul>
            <li class="current"><a href="/blog/">Blog</a></li>
            <li><a href="/projects/">Projects</a></li>
            <li><a href="/about.html">About</a></li>
        </ul>
    </nav>
    <main id="content" class="group">
        <article>
            <h3>A Spooky Ruby Class</h3>
            
<p>In Ruby, pretty much everything is an object. The number <code>5</code> is an object. The string "boo!" is an object.  When we want to be able to create a lot of similar objects, we use classes. Classes are objects too.</p>

<p>A class is like a blueprint for something we call instances. Each object you create using a class is called an instance. Ruby has a lot of built-in classes. Let's take a quick look at the <code>String</code> class. To create a new instance of any class, we call the <code>new</code> method. So to create instances of the <code>String</code> class we could type:</p>

<pre>>>greeting = String.new("Hi!")
=>"Hi!"
>>formal_greeting = String.new("Hello!")
=>"Hello!"</pre>

<p>These <code>String</code> instances are each their own objects but they also share a lot of methods that they get from the <code>String</code> class.</p>

<pre>>>greeting.size
=>3
>>formal_greeting.size
=>6</pre>

<p>The built-in classes are great and all, but let's try making our own. Let's make a class for spooky monsters.</p>

<pre>class Monster
  def initialize(spookiness, spooky_grabber)
    @spookiness = spookiness
    @spooky_grabber = spooky_grabber
  end
end</pre>

<p>A lot of stuff is actually going on here so let's break it down a bit.</p>

<pre>
class Monster</pre>
<p>The <code>class</code> keyword declares the beginning of a class. Our class can be referenced later by its class name, <code>Monster</code>.

<pre>  def initialize(spookiness, spooky_grabber)</pre>
<p>Here we declare the <code>initialize</code> method. <code>initialize</code> is a special method.</code> Whenever a new instance is of a class created, that class's <code>initialize</code> method is automatically called on that instance. It also receives all the arguments that were passed to the new method. This is the place to set up your object.</p>

<pre>    @spookiness = spookiness
    @spooky_grabber = spooky_grabber</pre>

<p>Just assigning the parameters to some variables. But what are those @ signs? Those @ signs indicate that these are instance variables. Each instance keeps track of it's own instance variables. Each monster will have it's own individual spookiness and spooky grabber.</p>

<p>Now we can create some instances!</p>

<pre>ghost = Monster.new(1, "a chilling presence")
skeleton = Monster.new(2, "a bony claw")
fishman = Monster.new(2, "a damp webbed hand")
cthulu = Monster.new(3, "several eldritch tentacles")</pre>

<p>The good news is we have our instances. The bad news is, they don't really do much yet. Let's add some methods to our class so we can at least inspect the values we set up.</p>

<pre>class Monster
  def initialize(spookiness, spooky_grabber)
    @spookiness = spookiness
    @spooky_grabber = spooky_grabber
  end

  def spookiness
    @spookiness
  end

  def spooky_grabber
    @spooky_grabber
  end
end
</pre>

We can use these methods to see the values of our instance variables.

<pre>>>ghost.spookiness
=>1</pre>

<p>That seems like a lot of code to write just to read each variable. I know what you're thinking. This is Ruby. There's gotta be a shorter way. That's where the <code>attr_reader</code> keyword come into play.</p>

<pre>class Monster
  attr_reader "spookiness"
end</pre>

<p>is the same as</p>

<pre>class Monster
  def spookiness
    @spookiness
  end
end</pre>

<p>Great let's add it to our code.</p>

<pre>
class Monster
  attr_reader "spookiness", "spooky_grabber"</pre>

<p>And let's add some methods to print spooky text to the console.</p>

<pre>class Monster
  attr_reader "spookiness", "spooky_grabber"

  def initialize(spookiness, spooky_grabber)
    @spookiness = spookiness
    @spooky_grabber = spooky_grabber
  end

  def spook
    print "You suddenly feel #{@spooky_grabber} brush your shoulder"
    puts  "." * spookiness
  end

  def scare
    print "You suddenly feel #{@spooky_grabber} wrap around your neck"
  puts  "!" * spookiness
  end
end</pre>

<p>The <code>spook</code> and <code>scare</code> methods are called 'instance methods'. That's because each instance can use them. And when you call an instance method it has access to its caller's instance variables.</p>

<pre>>>ghost.spook
  You suddenly feel a chilling presence brush your shoulder.
=>nil
>>skeleton.scare
  You suddenly feel a bony claw wrap around your neck!!
=>nil</pre>

<p>Sometimes you have a method that's related to a class, but doesn't really apply to individual instances.  You can create 'class methods' by using the <code>self</code> keyword. Here's an example. Pay attention to how <code>self</code> is used.</p>

<pre>class Monster
  def self.merge (monster_a, monster_b)
    spookiness = monster_a.spookiness + monster_b.spookiness
    grabber = monster_a.spooky_grabber + " and " +  monster_b.spooky_grabber
    Monster.new(spookiness, grabber)
  end
end</pre>

<p>You call class methods like this:</p>

<pre>spook_team = Monster.merge(fishman, cthulu)</pre>

<p>This method combines the properties of two objects then creates and returns a new instance. The created instance also has all the same methods as the other instances.</p>

<pre>>>spook_team.scare
  You suddenly feel a damp webbed hand and several eldritch tentacles wrap around your neck!!!!!
=>nil</pre>

<p>Great, nice and spooky!</p>

<p>And here's the full code for our class.</p>

<pre>class Monster
  attr_reader "spookiness", "spooky_grabber"

  def initialize(spookiness, spooky_grabber)
    @spookiness = spookiness
    @spooky_grabber = spooky_grabber
  end

  def spook
    print "You suddenly feel #{@spooky_grabber} brush your shoulder"
    puts  "." * spookiness
  end

  def scare
    print "You suddenly feel #{@spooky_grabber} wrap around your neck"
    puts  "!" * spookiness
  end

  def self.merge (monster_a, monster_b)
    spookiness = monster_a.spookiness + monster_b.spookiness
    grabber = monster_a.spooky_grabber + " and " +  monster_b.spooky_grabber
    Monster.new(spookiness, grabber)
  end
end</pre>
            <span class="info">posted on August 10, 2015</span>
        </article>
    </main>
    <footer>
        <h3>I'm also on:</h3>
        <ul>
           <li><a href="https://github.com/walsh9">GitHub</a></li>
           <li><a href="https://twitter.com/walsh9dbc">Twitter</a></li>
           <li><a href="https://www.linkedin.com/in/matthewcwalsh">LinkedIn</a></li>
        </ul>
    </footer>
</body>
</html>